<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Supporting High Contrast Settings</title>

    <!-- Core JS and CSS shared by all practices -->
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/base.css">
    <link rel="stylesheet" href="../../shared/css/core.css">
    <script src="../../shared/js/examples.js"></script>
    <script src="../../shared/js/highlight.pack.js"></script>
    <script src="../../shared/js/app.js"></script>
    <script data-skipto="colorTheme:aria; displayOption:popup; containerElement:div" src="../../shared/js/skipto.js"></script>
  </head>
  <body>
    <main>
      <h1>Supporting High Contrast Settings</h1>
      
      <p>Editor's note: After content is complete and near ready for merge, add a heading and abstract to practices.html</p>

      <section id="introduction">
        <h2>Introduction</h2>
        <p>
          While all content and components should meet minimum contrast requirements by default, it is also possible to build components that automatically provide high contrast for users who need more than minimum contrast.
          Many operating systems provide accessibility settings that enable users to specify high contrast preferences.
          This section explains how to ensure components respect those preferences.
        </p>

        <p>This section covers:</p>
        <ol>
          <li>Using SVG graphics to create components whose rendering can adapt operating system color settings.</li>
          <li>Using <code>currentcolor</code> value for inheriting the <code>color</code> property value of ancestors.</li>
          <li>Using the <code>forced-colors</code> CSS media query for high contrast settings.</li>
          <li>Using <code>&lt;system-colors&gt;</code> CSS data types for consistency with the rendering of other components in high contrast settings.</li>
        </ol>
      </section>

      <section id="os-high-contrast">
        <h2>Operating System Color and High Contrast Settings</h2>
        <p>Mobile, tablet and desktop operating systems have accessibility features for users to change the colors used to render content, including the colors used to render content from web browsers.   The features are found in the accessibility settings of the operating system.  The following table highlights the major high contrast features in selected operating systems.
        </p>

        <h3 id="os-hc-features">Operating System High Contrast Features</h3>
        <table  aria-labelledby="os-hc-features" class="data">
          <thead>
            <tr>
              <th>Operating System</th>
              <th>Accessibility Features</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Android</td>
              <td>
                <ul>
                  <li>High contrast text</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>iPhone/iPad</td>
              <td>
                <ul>
                  <li>Invert colors</li>
                  <li>Increase contrast</li>
                  <li>Display contrast</li>
                  <li>Reduce transparency</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>Apple macOS</td>
              <td>
                <ul>
                  <li>Smart invert</li>
                  <li>Classic invert</li>
                  <li>Increase contrast</li>
                  <li>Display contrast</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>GNOME Desktop</td>
              <td>
                <ul>
                  <li>Dark mode theme</li>
                  <li>High contrast setting</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>Microsoft Windows 10/11</td>
              <td>
                <ul>
                  <li>Enable high contrast color theme</li>
                  <li>Choose high contrast color theme</li>
                  <li>User can define custom theme</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="svg">
        <h2>SVG for Components</h2>

        <p>Bit-mapped images (e.g. .png, .jpeg) should not be used for components, since their rendering cannot be changed based on user color theme and/or high contrast settings.  SVG graphics can respond to the <code>forced-colors</code> CSS media query and supports the use of <code>currentcolor</code> value for color properties.  An additional advantage of SVG graphics is the smooth scaling of the graphics as the size of content adjusted using browser zoom features. </p>
      </section>

      <section id="currentcolor">
        <h2><code>currentcolor</code> Keyword</h2>

        <p>The <code>currentcolor</code> keyword provides a means for components to use the color value of ancestor elements to set the color properties of elements.   When the user chooses a high contrast setting the browser changes the <code>color</code> and <code>background-color</code> values of text content.   The <code>currentcolor</code> value inherits the text color value for use in setting other CSS color properties including: <code>border</code> and <code>outline</code> on HTML elements, and <code>stroke</code> and <code>fill</code> properties on SVG elements.  There is no equivalent color value for setting the text background color, so when using this technique it is important for the background color of the element to be transparent to pick up the change in background color. </p>

        <p>Note: Using <code>currentcolor</code> is the most popular technique in the ARIA APG examples for supporting user theme and high contrast settings.</p>

        <h3 id="currentcolot-example"><code>currentcolor</code> Example</h3>

        <p>The <a href="../../patterns/switch/examples/switch-button/">Switch Example</a> shows the use of <code>currentcolor</code>.

        <h4 id="currentcolor-example-screenshots">Switch Example with Various High Contrast User Settings</h4>
        <table aria-labelledby="currentcolor-example-screenshots" class="data">
          <thead>
            <tr>
              <th>OS</th>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>macOS 14.4</td>
              <td>Invert Colors: Off</td>
              <td></td>
            </tr>
            <tr>
              <td>macOS 14.4</td>
              <td>Invert Colors: on</td>
              <td></td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: none</td>
              <td></td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Night sky</td>
              <td></td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Desert</td>
              <td></td>
            </tr>
          </tbody>
        </table>



        <h3 id="currentcolor-examples">Examples using <code>currentcolor</code> keyword</h3>
        <table class="data" aria-labelledby="currentcolor-examples">
          <thead>
            <tr>
              <th>Example</th>
              <th>SVG</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a href="../../patterns/checkbox/examples/checkbox-mixed.html">Checkbox (Mixed-State)</a>
              </td>
              <td>
                in CSS
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../../patterns/disclosure/examples/disclosure-faq.html">Disclosure (Show/Hide) for Answers to Frequently Asked Questions</a>
              </td>
              <td>
                in CSS
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../../patterns/radio/examples/radio-activedescendant.html">Radio Group  Using aria-activedescendant</a>              </td>
              <td>
                in CSS
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../../patterns/slider/examples/slider-seek.html">Media Seek Slider</a>
              </td>
              <td>
                in HTML
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../../patterns/slider/examples/slider-temperature/">Vertical Temperature Slider</a>
              </td>
              <td>
                in HTML
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../../patterns/switch/examples/switch-button/">Switch  Using HTML Button</a>
              </td>
              <td>
                in HTML
              </td>
              <td>
              </td>
            </tr>
          </tbody>
        </table>


      </section>


      <section id="forced-colors">
        <h2><code>forced-colors</code> Media Query</h2>

        <p>The <code>forced-colors</code> CSS media query provides a means for components to use the color preferences of people with visual impairments.   When the user chooses a high contrast setting in their operating system, browsers set <code>forced-colors</code> property to <code>active</code>.   CSS media queries change component colors to use operating system specified values using <code>&lt;system-colors&gt;</code> CSS data types.


        <h3 id="table-forced-colors">Examples using <code>forced-colors</code></h3>
        <table aria-labelledby="table-forced-colors" class="data">
          <thead>
            <tr>
              <th>Example</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a href="../../patterns/feed/examples/feed.html">Feed</a>
              </td>
              <td>
              </td>
            </tr>
            <tr>
              <td>
                <a href="../../patterns/radio/examples/radio-rating.html">Rating Radio Group</a>
              </td>
              <td>
              </td>
            </tr>
          </tbody>
        </table>

      </section>




    </main>
  </body>
</html>
